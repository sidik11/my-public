const _0x1bb0cc=_0x1b6c;(function(_0x4f2868,_0x14d41d){const _0x3d3593=_0x1b6c,_0x562b4d=_0x4f2868();while(!![]){try{const _0x5e6a19=-parseInt(_0x3d3593(0x15a))/0x1*(-parseInt(_0x3d3593(0x132))/0x2)+-parseInt(_0x3d3593(0x169))/0x3+parseInt(_0x3d3593(0x156))/0x4+-parseInt(_0x3d3593(0x133))/0x5*(parseInt(_0x3d3593(0x160))/0x6)+-parseInt(_0x3d3593(0x134))/0x7+-parseInt(_0x3d3593(0x151))/0x8*(parseInt(_0x3d3593(0x12c))/0x9)+parseInt(_0x3d3593(0x149))/0xa;if(_0x5e6a19===_0x14d41d)break;else _0x562b4d['push'](_0x562b4d['shift']());}catch(_0x2ec299){_0x562b4d['push'](_0x562b4d['shift']());}}}(_0x18a3,0x382ef));function _0x1b6c(_0x2cec0c,_0x4ef277){const _0x18a3b7=_0x18a3();return _0x1b6c=function(_0x1b6c95,_0x5db52b){_0x1b6c95=_0x1b6c95-0x12a;let _0x37c08d=_0x18a3b7[_0x1b6c95];return _0x37c08d;},_0x1b6c(_0x2cec0c,_0x4ef277);}import{initializeApp}from'https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js';import{getDatabase,ref,push,onChildAdded,onChildRemoved,remove,onValue,set,off}from'https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js';import{getStorage,ref as _0x48b000,uploadBytes,getDownloadURL}from'https://www.gstatic.com/firebasejs/9.22.2/firebase-storage.js';const firebaseConfig={'apiKey':'AIzaSyDhYta0w2K_DQwa0SlBDA3FnfRNqog-ejE','authDomain':_0x1bb0cc(0x16c),'databaseURL':_0x1bb0cc(0x158),'projectId':'imagefeed-45d0e','storageBucket':_0x1bb0cc(0x14b),'messagingSenderId':_0x1bb0cc(0x13a),'appId':_0x1bb0cc(0x141)},app=initializeApp(firebaseConfig),db=getDatabase(app),storage=getStorage(app),chatRef=ref(db,_0x1bb0cc(0x146)),activeUsersRef=ref(db,'activeUsers'),kickedUsersRef=ref(db,_0x1bb0cc(0x142)),noticeRef=ref(db,_0x1bb0cc(0x159));function _0x18a3(){const _0x22d6f9=['UPLOAD\x20FAILED','886161237670','2001','Username\x20must\x20be\x20at\x20least\x203\x20characters','size','joinForm','textContent','style','1:886161237670:web:105822aeb49c11340d7667','kickedUsers','Invalid\x20join\x20code','joinCode','contextmenu','globalChat','appendChild','display','7833750ljdrSR','messageInput','imagefeed-45d0e.firebasestorage.app','ctrlKey','files','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','activeUsers/','8rQJIps','kickedUsers/','trim','value','logout','1006608MoHNNs','key','https://imagefeed-45d0e-default-rtdb.firebaseio.com','notice/currentNotice','63359OFZSqe','sendMessage','target','addEventListener','name','\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','60252TcynGf','remove','UPLOAD\x20ERROR:','kickedMessage','msg','className','messages','beforeunload','noticeContainer','686520PWiqJu','</strong>:\x20','joinError','imagefeed-45d0e.firebaseapp.com','exists','username','getElementById','now','length','createElement','imageUpload','scrollTop','1127007dKTEXS','IMAGE\x20TOO\x20LARGE\x20(MAX\x202MB)','chatRoom','none','F12','change','6cQCkTM','160BxVAuR','2236990gyoRhA','joinChat','innerHTML','</strong>\x20sent\x20an\x20image:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br><img\x20src=\x22','block'];_0x18a3=function(){return _0x22d6f9;};return _0x18a3();}let username='',currentUserId=null,userKickListener=null;function fetchNotice(){onValue(noticeRef,_0x46a5ab=>{const _0x1bd242=_0x1b6c,_0x2eeda0=_0x46a5ab['val'](),_0x52d065=document['getElementById'](_0x1bd242(0x168));_0x2eeda0?document[_0x1bd242(0x16f)]('noticeContent')[_0x1bd242(0x13f)]=_0x2eeda0:document[_0x1bd242(0x16f)]('noticeContent')[_0x1bd242(0x13f)]='No\x20current\x20notices';});}fetchNotice();function checkIfKicked(){const _0x506bfa=_0x1bb0cc;if(!currentUserId)return;userKickListener=onValue(ref(db,_0x506bfa(0x152)+currentUserId),_0x77bf7e=>{const _0x2cc2c4=_0x506bfa;_0x77bf7e[_0x2cc2c4(0x16d)]()&&(handleKick(),remove(ref(db,_0x2cc2c4(0x152)+currentUserId)));});}function handleKick(){const _0x406c6b=_0x1bb0cc;logout(),document['getElementById'](_0x406c6b(0x12e))['style']['display']=_0x406c6b(0x12f),document[_0x406c6b(0x16f)](_0x406c6b(0x13e))[_0x406c6b(0x140)][_0x406c6b(0x148)]=_0x406c6b(0x12f),document['getElementById'](_0x406c6b(0x163))[_0x406c6b(0x140)][_0x406c6b(0x148)]='block',setTimeout(()=>{const _0x95d04b=_0x406c6b;document[_0x95d04b(0x16f)](_0x95d04b(0x163))[_0x95d04b(0x140)][_0x95d04b(0x148)]=_0x95d04b(0x12f),document[_0x95d04b(0x16f)](_0x95d04b(0x13e))[_0x95d04b(0x140)]['display']=_0x95d04b(0x138);},0x1388);}window[_0x1bb0cc(0x135)]=()=>{const _0x14b662=_0x1bb0cc,_0x46016d=document[_0x14b662(0x16f)](_0x14b662(0x16e)),_0xdaacc6=document[_0x14b662(0x16f)](_0x14b662(0x144)),_0x11cb6e=document[_0x14b662(0x16f)](_0x14b662(0x16b)),_0x310059=_0x46016d[_0x14b662(0x154)][_0x14b662(0x153)](),_0x4e7b08=_0xdaacc6[_0x14b662(0x154)];if(!_0x310059||_0x310059[_0x14b662(0x171)]<0x3){_0x11cb6e['textContent']=_0x14b662(0x13c);return;}if(_0x4e7b08!==_0x14b662(0x13b)){_0x11cb6e[_0x14b662(0x13f)]=_0x14b662(0x143);return;}_0x11cb6e['textContent']='',username=_0x310059,currentUserId=Date[_0x14b662(0x170)]()['toString'](),document[_0x14b662(0x16f)]('joinForm')[_0x14b662(0x140)][_0x14b662(0x148)]='none',document[_0x14b662(0x16f)](_0x14b662(0x12e))[_0x14b662(0x140)][_0x14b662(0x148)]='block',document[_0x14b662(0x16f)](_0x14b662(0x168))['style'][_0x14b662(0x148)]=_0x14b662(0x12f),document[_0x14b662(0x16f)](_0x14b662(0x12a))['addEventListener'](_0x14b662(0x131),handleImageUpload),set(ref(db,_0x14b662(0x150)+currentUserId),username),checkIfKicked(),window['addEventListener'](_0x14b662(0x167),()=>{const _0x313570=_0x14b662;remove(ref(db,_0x313570(0x150)+currentUserId));});},window[_0x1bb0cc(0x155)]=()=>{const _0x5c0aa0=_0x1bb0cc;currentUserId&&remove(ref(db,_0x5c0aa0(0x150)+currentUserId)),username='',currentUserId=null,document['getElementById'](_0x5c0aa0(0x13e))['style'][_0x5c0aa0(0x148)]=_0x5c0aa0(0x138),document[_0x5c0aa0(0x16f)](_0x5c0aa0(0x12e))[_0x5c0aa0(0x140)][_0x5c0aa0(0x148)]=_0x5c0aa0(0x12f),document[_0x5c0aa0(0x16f)](_0x5c0aa0(0x168))[_0x5c0aa0(0x140)][_0x5c0aa0(0x148)]=_0x5c0aa0(0x138),document[_0x5c0aa0(0x16f)](_0x5c0aa0(0x166))[_0x5c0aa0(0x136)]='',document[_0x5c0aa0(0x16f)](_0x5c0aa0(0x16b))[_0x5c0aa0(0x13f)]='',userKickListener&&(off(ref(db,'kickedUsers/'+currentUserId),userKickListener),userKickListener=null);};async function handleImageUpload(_0x67228b){const _0x3c6c1a=_0x1bb0cc,_0x195091=_0x67228b[_0x3c6c1a(0x15c)][_0x3c6c1a(0x14d)][0x0];if(!_0x195091)return;if(_0x195091[_0x3c6c1a(0x13d)]>0x2*0x400*0x400){alert(_0x3c6c1a(0x12d));return;}try{const _0x3f7b6e=_0x48b000(storage,'chat_images/'+Date['now']()+'_'+_0x195091[_0x3c6c1a(0x15e)]);await uploadBytes(_0x3f7b6e,_0x195091);const _0x2c34d1=await getDownloadURL(_0x3f7b6e);push(chatRef,{'name':username,'imageUrl':_0x2c34d1,'timestamp':Date[_0x3c6c1a(0x170)](),'userId':currentUserId}),_0x67228b['target']['value']='';}catch(_0x7ac48){console['error'](_0x3c6c1a(0x162),_0x7ac48),alert(_0x3c6c1a(0x139));}}window[_0x1bb0cc(0x15b)]=()=>{const _0x3d735c=_0x1bb0cc,_0x328e55=document[_0x3d735c(0x16f)]('messageInput')[_0x3d735c(0x154)][_0x3d735c(0x153)]();_0x328e55!==''&&(push(chatRef,{'name':username,'message':_0x328e55,'timestamp':Date[_0x3d735c(0x170)](),'userId':currentUserId}),document[_0x3d735c(0x16f)](_0x3d735c(0x14a))['value']='');},onChildAdded(chatRef,_0x5153ae=>{const _0x413783=_0x1bb0cc,{name:_0x426680,message:_0x52a345,imageUrl:_0x99d324}=_0x5153ae['val'](),_0x32a792=document[_0x413783(0x172)]('div');_0x32a792[_0x413783(0x165)]=_0x99d324?'msg\x20img-msg':_0x413783(0x164),_0x32a792['id']=_0x5153ae['key'];_0x99d324?_0x32a792['innerHTML']=_0x413783(0x14e)+_0x426680+_0x413783(0x137)+_0x99d324+_0x413783(0x15f):_0x32a792[_0x413783(0x136)]=_0x413783(0x14e)+_0x426680+_0x413783(0x16a)+_0x52a345+_0x413783(0x14f);const _0x69d3f2=document['getElementById'](_0x413783(0x166));_0x69d3f2[_0x413783(0x147)](_0x32a792),_0x69d3f2[_0x413783(0x12b)]=_0x69d3f2['scrollHeight'];}),onChildRemoved(chatRef,_0x2d750f=>{const _0xa48fca=_0x1bb0cc,_0x483365=document[_0xa48fca(0x16f)](_0x2d750f[_0xa48fca(0x157)]);_0x483365&&_0x483365[_0xa48fca(0x161)]();}),document[_0x1bb0cc(0x15d)](_0x1bb0cc(0x145),_0x3086de=>_0x3086de['preventDefault']()),document[_0x1bb0cc(0x15d)]('keydown',_0x5f4c80=>{const _0x11e1a9=_0x1bb0cc;(_0x5f4c80[_0x11e1a9(0x157)]===_0x11e1a9(0x130)||_0x5f4c80[_0x11e1a9(0x14c)]&&_0x5f4c80['shiftKey']&&(_0x5f4c80['key']==='I'||_0x5f4c80[_0x11e1a9(0x157)]==='J')||_0x5f4c80[_0x11e1a9(0x14c)]&&_0x5f4c80[_0x11e1a9(0x157)]==='U')&&_0x5f4c80['preventDefault']();});
